{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FEEDBACK_STORAGE_KEY = 'feedback-form-state';\nconst formRefs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('input[type=\"email\"]'),\n  message: document.querySelector('textarea'),\n};\nconst data = {};\n\npopulateTextareaField();\n// const { form, input, message } = formRefs;\n// console.log(form);\n// console.log(input);\n// console.log(message);\n/**\n * - Скасовуємо стандартну поведінку ✅\n * - Видаляємо повідомлення зі сховища ✅\n * - Очищуємо форму ✅\n */\n// Mango JavaScript is awesome\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  console.log('✅ Data send successfully');\n  event.currentTarget.reset();\n  // localStorage.removeItem('feedback-msg'); // not bad, but...\n  localStorage.removeItem(FEEDBACK_STORAGE_KEY);\n}\nfunction onFormInput(event) {\n  event.preventDefault();\n  // const { userName, userMessage } = event.currentTarget.elements;\n  // console.log(userName, userMessage);\n  console.log(event.target.email);\n  console.log(event.target.value);\n  data[event.target.email] = event.target.value;\n  console.log(data);\n}\n\nformRefs.form.addEventListener('submit', onFormSubmit);\nformRefs.form.addEventListener('input', onFormInput);\n/**\n * - Отримуємо значення поля ✅\n * - Зберігаємо його у сховище ✅\n */\nfunction onTextareaInput(event) {\n  // console.log(event.target.value);\n  // localStorage.setItem('feedback-msg', event.target.value); // not bad, but...\n  localStorage.setItem(FEEDBACK_STORAGE_KEY, event.target.value);\n}\n\nformRefs.message.addEventListener('input', onTextareaInput);\n/**\n * - Отримуємо значення зі сховища ✅\n * - Якщо там щось було, оновлюємо DOM ✅\n */\n\nfunction populateTextareaField() {\n  // const messageText = localStorage.getItem('feedback-msg'); // not bad, but...\n  const messageText = localStorage.getItem(FEEDBACK_STORAGE_KEY);\n  // console.log(messageText);\n  // JSON.parse(messageText);\n  if (!messageText) return;\n  formRefs.message.value = messageText;\n}\n\n/**\n * Chatty events\n */\n// document.body.addEventListener('mousemove', event => {\n//   console.log('x: ', event.clientX, 'y:', event.clientY);\n// });\n// document.body.addEventListener(\n//   'mousemove',\n//   _.throttle(event => {\n//     console.log('x: ', event.clientX, 'y:', event.clientY);\n//   }, 500)\n// );"],"names":["FEEDBACK_STORAGE_KEY","formRefs","data","populateTextareaField","onFormSubmit","event","onFormInput","onTextareaInput","messageText"],"mappings":"wFAAA,MAAMA,EAAuB,sBACvBC,EAAW,CACf,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,qBAAqB,EACnD,QAAS,SAAS,cAAc,UAAU,CAC5C,EACMC,EAAO,CAAA,EAEbC,IAYA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,QAAQ,IAAI,0BAA0B,EACtCA,EAAM,cAAc,QAEpB,aAAa,WAAWL,CAAoB,CAC9C,CACA,SAASM,EAAYD,EAAO,CAC1BA,EAAM,eAAc,EAGpB,QAAQ,IAAIA,EAAM,OAAO,KAAK,EAC9B,QAAQ,IAAIA,EAAM,OAAO,KAAK,EAC9BH,EAAKG,EAAM,OAAO,KAAK,EAAIA,EAAM,OAAO,MACxC,QAAQ,IAAIH,CAAI,CAClB,CAEAD,EAAS,KAAK,iBAAiB,SAAUG,CAAY,EACrDH,EAAS,KAAK,iBAAiB,QAASK,CAAW,EAKnD,SAASC,EAAgBF,EAAO,CAG9B,aAAa,QAAQL,EAAsBK,EAAM,OAAO,KAAK,CAC/D,CAEAJ,EAAS,QAAQ,iBAAiB,QAASM,CAAe,EAM1D,SAASJ,GAAwB,CAE/B,MAAMK,EAAc,aAAa,QAAQR,CAAoB,EAGxDQ,IACLP,EAAS,QAAQ,MAAQO,EAC3B"}