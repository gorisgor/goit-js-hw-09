{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const localStorageKey = \"feedback-form-state\";\nconst formRefs = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('.email-input'),\n    message: document.querySelector('.textarea'),\n  };\n  const data = {};\n\n  populateTextareaField();\n  \n  function onFormSubmit(event) {\n    event.preventDefault();\n    event.currentTarget.reset();\n    localStorage.removeItem(localStorageKey);\n  }\n  function onFormInput(event) {\n    event.preventDefault();\n    data[event.target.email] = event.target.value;;\n  }\n  \n  formRefs.form.addEventListener('submit', onFormSubmit);\n  formRefs.form.addEventListener('input', onFormInput);\n\n  function onTextareaInput(event) {\n    localStorage.setItem(localStorageKey, event.target.value);\n  }\n  \n  formRefs.message.addEventListener('input', _.throttle(onTextareaInput, 300));\n  function populateTextareaField() {\n\n    const messageText = localStorage.getItem(localStorageKey);\n    if (!messageText) return;\n    formRefs.message.value = messageText;\n  }"],"names":["localStorageKey","formRefs","data","populateTextareaField","onFormSubmit","event","onFormInput","onTextareaInput","messageText"],"mappings":"wFAAA,MAAMA,EAAkB,sBAClBC,EAAW,CACb,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,WAAW,CAC/C,EACQC,EAAO,CAAA,EAEbC,IAEA,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBA,EAAM,cAAc,QACpB,aAAa,WAAWL,CAAe,CACxC,CACD,SAASM,EAAYD,EAAO,CAC1BA,EAAM,eAAc,EACpBH,EAAKG,EAAM,OAAO,KAAK,EAAIA,EAAM,OAAO,KACzC,CAEDJ,EAAS,KAAK,iBAAiB,SAAUG,CAAY,EACrDH,EAAS,KAAK,iBAAiB,QAASK,CAAW,EAEnD,SAASC,EAAgBF,EAAO,CAC9B,aAAa,QAAQL,EAAiBK,EAAM,OAAO,KAAK,CACzD,CAEDJ,EAAS,QAAQ,iBAAiB,QAAS,EAAE,SAASM,EAAiB,GAAG,CAAC,EAC3E,SAASJ,GAAwB,CAE/B,MAAMK,EAAc,aAAa,QAAQR,CAAe,EACnDQ,IACLP,EAAS,QAAQ,MAAQO,EAC7B"}